# =============================================================================
# DebtStack.ai Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
#
# For account setup instructions, see: docs/DEPLOYMENT.md

# =============================================================================
# Environment
# =============================================================================
ENVIRONMENT=development  # development, staging, production
DEBUG=false

# =============================================================================
# Database (Neon PostgreSQL)
# =============================================================================
# Get this from: https://console.neon.tech → Your Project → Connection Details
# IMPORTANT: Use ?sslmode=require for Neon
DATABASE_URL=postgresql+asyncpg://user:password@ep-xxx.us-east-2.aws.neon.tech/debtstack?sslmode=require

# =============================================================================
# Redis Cache (Upstash) - Optional
# =============================================================================
# Get this from: https://console.upstash.com → Your Database → REST URL
# Use rediss:// (with double s) for TLS
# REDIS_URL=rediss://default:xxx@us1-xxx.upstash.io:6379

# =============================================================================
# Cloud Storage (Cloudflare R2) - Optional
# =============================================================================
# Get these from: https://dash.cloudflare.com → R2 → Manage R2 API Tokens
# R2_ACCOUNT_ID=your_account_id
# R2_ACCESS_KEY_ID=your_access_key_id
# R2_SECRET_ACCESS_KEY=your_secret_access_key
# R2_BUCKET_NAME=debtstack-documents

# =============================================================================
# External APIs - Required
# =============================================================================
# Anthropic (Claude) - REQUIRED
# Get from: https://console.anthropic.com → API Keys
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# =============================================================================
# External APIs - Recommended
# =============================================================================
# Google Gemini - For Tier 1 extraction (cheapest)
# Get from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your-gemini-key

# SEC-API.io - For fast SEC filing retrieval
# Get from: https://sec-api.io/console → API Key
SEC_API_KEY=your-sec-api-key

# =============================================================================
# External APIs - Optional
# =============================================================================
# Finnhub - For TRACE bond pricing (requires premium $300/3mo)
# Get from: https://finnhub.io/dashboard
# FINNHUB_API_KEY=your-finnhub-key

# OpenFIGI - For CUSIP mapping (free tier: 25 req/min)
# Get from: https://www.openfigi.com/api → Get API Key
# OPENFIGI_API_KEY=your-openfigi-key

# DeepSeek - Alternative to Gemini for extraction
# Get from: https://platform.deepseek.com/api_keys
# DEEPSEEK_API_KEY=your-deepseek-key

# =============================================================================
# Application Security
# =============================================================================
SECRET_KEY=change-me-to-a-random-256-bit-string

# CORS (comma-separated origins)
ALLOWED_ORIGINS=http://localhost:3000,https://debtstack.ai

# =============================================================================
# Authentication & Billing
# =============================================================================
# Stripe - For payment processing
# Get from: https://dashboard.stripe.com/apikeys
# STRIPE_API_KEY=sk_test_xxx
# STRIPE_WEBHOOK_SECRET=whsec_xxx

# Auth bypass for development (set to true to disable auth checks)
AUTH_BYPASS=false

# =============================================================================
# Rate Limiting
# =============================================================================
# Default (unauthenticated) rate limits
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Per-tier rate limits (requests per minute)
RATE_LIMIT_FREE=10
RATE_LIMIT_PRO=120
RATE_LIMIT_ENTERPRISE=1000
# Legacy tiers (optional)
RATE_LIMIT_STARTER=60
RATE_LIMIT_GROWTH=120
RATE_LIMIT_SCALE=300
